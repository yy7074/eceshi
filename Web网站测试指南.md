# 🧪 Web网站测试指南

**测试时间**：2025年10月21日  
**测试范围**：PC端用户网站  
**测试地址**：https://catdog.dachaonet.com/web

---

## 🚀 快速测试（5分钟）

### 步骤1：启动后端服务
```bash
cd /Users/yy/Documents/GitHub/eceshi/backend
python -m app.main

# 看到以下信息表示启动成功：
# 🚀 科研检测服务平台启动中...
# ✅ 数据库表创建完成
# INFO:     Uvicorn running on http://0.0.0.0:3000
```

### 步骤2：访问Web网站
```bash
# 方式一：生产环境（推荐）
open https://catdog.dachaonet.com/web

# 方式二：本地环境
open http://localhost:3000/web
```

### 步骤3：快速功能验证
- [ ] 首页是否正常加载
- [ ] 项目分类是否显示
- [ ] 推荐项目是否显示
- [ ] 点击项目查看详情
- [ ] 点击登录测试登录功能

---

## 📋 完整测试清单

### 一、首页测试 ✅

#### 1.1 页面加载
- [ ] 页面能正常打开
- [ ] 顶部导航栏显示正常
- [ ] Logo和菜单显示正常
- [ ] 底部信息显示正常

#### 1.2 英雄区
- [ ] 标题显示："科研检测服务平台"
- [ ] 副标题显示："专业 · 高效 · 可靠"
- [ ] "浏览检测项目"按钮可点击
- [ ] "了解更多"按钮可点击

#### 1.3 分类展示
- [ ] 分类网格正常显示
- [ ] 分类图标显示（🔬）
- [ ] 分类名称显示
- [ ] 点击分类跳转到项目列表
- [ ] 显示加载动画（首次加载时）

#### 1.4 推荐项目
- [ ] 项目卡片网格显示（PC端4列）
- [ ] 项目图片显示（或占位图）
- [ ] 项目名称显示
- [ ] 价格信息显示（现价、原价）
- [ ] 标签显示（热门、推荐）
- [ ] 点击项目跳转到详情页
- [ ] 悬停效果（卡片上浮）

**测试命令**：
```bash
# 打开浏览器开发者工具（F12）
# 查看Network标签，应该看到：
# GET /api/v1/projects/categories - 200 OK
# GET /api/v1/projects/list - 200 OK
```

---

### 二、项目列表测试 ✅

#### 2.1 进入项目列表
- [ ] 从首页点击"浏览检测项目"按钮
- [ ] 或点击导航栏"检测项目"菜单

#### 2.2 搜索功能
- [ ] 输入关键词（如"DNA"）
- [ ] 点击"搜索"按钮
- [ ] 结果正确显示
- [ ] 清空搜索框
- [ ] 点击"重置"按钮

#### 2.3 分类筛选
- [ ] 下拉选择分类
- [ ] 项目列表更新
- [ ] 清除分类筛选
- [ ] 项目列表恢复

#### 2.4 项目卡片
- [ ] 项目图片显示
- [ ] 项目名称显示
- [ ] 价格信息显示
- [ ] 标签显示（热门/推荐）
- [ ] 悬停效果

#### 2.5 分页功能
- [ ] 分页器显示
- [ ] 显示总数量
- [ ] 切换页码
- [ ] 修改每页数量（12/24/48）
- [ ] 跳转到指定页

**测试API**：
```bash
# 搜索测试
curl "https://catdog.dachaonet.com/api/v1/projects/list?search=DNA"

# 分类筛选测试
curl "https://catdog.dachaonet.com/api/v1/projects/list?category_id=1"
```

---

### 三、项目详情测试 ✅

#### 3.1 进入详情页
- [ ] 从项目列表点击项目卡片
- [ ] 详情页正常加载

#### 3.2 项目信息
- [ ] 返回按钮可用
- [ ] 项目图片显示
- [ ] 项目名称显示
- [ ] 价格信息显示（大号红色）
- [ ] 项目编号显示
- [ ] 服务周期显示
- [ ] 检测仪器显示
- [ ] 浏览量显示

#### 3.3 立即预约
- [ ] "立即预约"按钮显示
- [ ] 按钮样式正确（蓝色、宽度100%）
- [ ] 点击按钮（暂无功能）

#### 3.4 Tab切换
- [ ] "项目介绍"Tab内容显示
- [ ] "样品要求"Tab可切换
- [ ] "检测标准"Tab可切换
- [ ] Tab内容正确显示

**测试API**：
```bash
# 获取项目详情
curl "https://catdog.dachaonet.com/api/v1/projects/1"
```

---

### 四、用户登录测试 ✅

#### 4.1 打开登录对话框
- [ ] 点击右上角"登录"按钮
- [ ] 登录对话框弹出
- [ ] 对话框标题："登录"

#### 4.2 发送验证码
- [ ] 输入手机号（如：18663764585）
- [ ] 点击"获取验证码"按钮
- [ ] 显示60秒倒计时
- [ ] 控制台显示验证码（开发模式）
- [ ] 收到成功提示

#### 4.3 登录操作
- [ ] 输入验证码
- [ ] 点击"登录"按钮
- [ ] 显示加载状态
- [ ] 登录成功提示
- [ ] 对话框自动关闭
- [ ] 右上角显示用户头像和昵称

#### 4.4 登录后状态
- [ ] Token保存到localStorage
- [ ] 用户信息显示正确
- [ ] 可访问"我的订单"
- [ ] 可访问"个人中心"

**测试API**：
```bash
# 发送验证码
curl -X POST "https://catdog.dachaonet.com/api/v1/auth/send-sms" \
  -H "Content-Type: application/json" \
  -d '{"phone":"18663764585","scene":"login"}'

# 登录
curl -X POST "https://catdog.dachaonet.com/api/v1/auth/sms-login" \
  -H "Content-Type: application/json" \
  -d '{"phone":"18663764585","sms_code":"123456"}'
```

---

### 五、我的订单测试 ✅

#### 5.1 进入订单列表（需先登录）
- [ ] 点击导航栏"我的订单"
- [ ] 或点击底部TabBar"订单"（移动端）

#### 5.2 订单状态筛选
- [ ] "全部"按钮
- [ ] "待支付"按钮
- [ ] "已支付"按钮
- [ ] "实验中"按钮
- [ ] "已完成"按钮
- [ ] 切换状态，列表更新

#### 5.3 订单卡片
- [ ] 订单号显示
- [ ] 状态标签显示（颜色正确）
- [ ] 项目名称显示
- [ ] 样品信息显示
- [ ] 金额显示

#### 5.4 订单操作
- [ ] "去支付"按钮（待支付订单）
- [ ] "取消订单"按钮（待支付订单）
- [ ] 点击取消订单
- [ ] 确认对话框弹出
- [ ] 取消成功提示

#### 5.5 分页功能
- [ ] 分页器显示
- [ ] 切换页码
- [ ] 订单列表更新

**测试API**：
```bash
# 获取订单列表（需要Token）
curl "https://catdog.dachaonet.com/api/v1/orders/list" \
  -H "Authorization: Bearer YOUR_TOKEN"
```

---

### 六、个人中心测试 ✅

#### 6.1 进入个人中心
- [ ] 点击用户头像下拉菜单
- [ ] 选择"个人中心"
- [ ] 或点击底部TabBar"我的"（移动端）

#### 6.2 用户信息
- [ ] 头像显示（大号80px）
- [ ] 昵称显示
- [ ] 手机号显示

#### 6.3 账户统计
- [ ] 信用额度卡片
- [ ] 预付余额卡片
- [ ] 订单数量卡片
- [ ] 积分卡片
- [ ] 数值显示正确
- [ ] 标签显示正确

**测试API**：
```bash
# 获取用户信息（需要Token）
curl "https://catdog.dachaonet.com/api/v1/users/me" \
  -H "Authorization: Bearer YOUR_TOKEN"

# 获取账户余额（需要Token）
curl "https://catdog.dachaonet.com/api/v1/users/balance" \
  -H "Authorization: Bearer YOUR_TOKEN"
```

---

### 七、关于我们测试 ✅

#### 7.1 进入关于我们
- [ ] 点击导航栏"关于我们"

#### 7.2 内容显示
- [ ] "关于我们"板块显示
- [ ] 公司介绍显示
- [ ] "联系我们"板块显示
- [ ] 联系方式显示
- [ ] "关注我们"板块显示
- [ ] 社交媒体信息显示

---

### 八、响应式设计测试 📱

#### 8.1 PC端测试（>= 1200px）
- [ ] 打开浏览器，全屏显示
- [ ] 顶部导航栏正常
- [ ] 主内容区居中，最大宽度1400px
- [ ] 项目网格4列显示
- [ ] 底部信息3列显示
- [ ] 悬停效果正常

**测试**：
```
浏览器窗口：1920x1080
内容区宽度：1400px
项目网格：4列
```

#### 8.2 平板端测试（768px - 1200px）
- [ ] 调整浏览器窗口到900px宽
- [ ] 导航栏正常显示
- [ ] 内容区自适应
- [ ] 项目网格2-3列
- [ ] 底部2列显示

**测试**：
```
浏览器窗口：900x768
项目网格：2-3列
```

#### 8.3 移动端测试（< 768px）
- [ ] 调整浏览器窗口到375px宽
- [ ] 或使用开发者工具切换到手机模式
- [ ] 顶部显示Logo和菜单按钮
- [ ] 用户名隐藏，只显示头像
- [ ] 底部TabBar显示
- [ ] 项目网格1列显示
- [ ] 底部信息隐藏
- [ ] 点击菜单按钮打开抽屉

**测试**：
```
iPhone SE (375x667)
iPhone 12 (390x844)
Galaxy S20 (360x800)
```

#### 8.4 响应式断点测试
```bash
# 在浏览器开发者工具中测试：
# F12 → 切换设备工具栏 → 响应式
# 拖动宽度，观察布局变化

断点：
< 768px  - 移动端（1列、底部TabBar）
768-1200px - 平板端（2-3列、顶部导航）
>= 1200px - PC端（4列、底部信息）
```

---

### 九、性能测试 ⚡

#### 9.1 加载速度
- [ ] 首次加载时间 < 2秒
- [ ] 页面切换流畅
- [ ] 图片加载正常
- [ ] 无明显卡顿

#### 9.2 网络请求
```bash
# 打开浏览器开发者工具 → Network
# 查看以下请求：

1. 首页加载：
   - GET /api/v1/projects/categories
   - GET /api/v1/projects/list

2. 项目列表：
   - GET /api/v1/projects/list?page=1&page_size=12

3. 项目详情：
   - GET /api/v1/projects/{id}

4. 登录：
   - POST /api/v1/auth/send-sms
   - POST /api/v1/auth/sms-login

5. 订单列表：
   - GET /api/v1/orders/list

所有请求应返回200状态码
```

#### 9.3 资源大小
- [ ] HTML: ~10KB
- [ ] CSS: ~12KB
- [ ] JS: ~35KB
- [ ] 外部库（CDN）: ~500KB
- [ ] 总计首次加载: < 600KB

---

### 十、浏览器兼容性测试 🌐

#### 10.1 Chrome（推荐）
- [ ] 最新版Chrome
- [ ] 所有功能正常

#### 10.2 Safari
- [ ] macOS Safari
- [ ] iOS Safari
- [ ] 功能正常

#### 10.3 Edge
- [ ] 最新版Edge
- [ ] 功能正常

#### 10.4 Firefox
- [ ] 最新版Firefox
- [ ] 功能正常

---

## 🐛 常见问题排查

### 问题1：页面打不开
```bash
# 检查后端服务是否启动
ps aux | grep "python -m app.main"

# 检查端口是否被占用
lsof -i :3000

# 重启后端服务
cd /Users/yy/Documents/GitHub/eceshi/backend
python -m app.main
```

### 问题2：API请求失败
```bash
# 打开浏览器控制台查看错误
# F12 → Console

# 检查网络请求
# F12 → Network

# 常见错误：
# 401 - 未登录或Token过期
# 404 - 接口不存在
# 500 - 服务器错误
```

### 问题3：登录失败
```bash
# 检查手机号是否正确（11位）
# 检查验证码是否正确
# 查看控制台的验证码（开发模式）
# 检查Token是否保存到localStorage
```

### 问题4：样式显示异常
```bash
# 清除浏览器缓存
# Ctrl+Shift+Delete → 清除缓存

# 强制刷新
# Ctrl+F5 或 Cmd+Shift+R

# 检查CSS文件是否加载
# F12 → Network → 筛选CSS
```

### 问题5：移动端显示异常
```bash
# 检查meta viewport标签
# 应该包含：width=device-width, initial-scale=1.0

# 检查响应式CSS
# @media (max-width: 768px)

# 使用浏览器开发者工具
# F12 → 切换设备工具栏 → 选择设备
```

---

## 📊 测试报告模板

### 测试环境
```
操作系统：macOS / Windows / Linux
浏览器：Chrome 120.0
屏幕分辨率：1920x1080
网络环境：WiFi / 4G
测试日期：2025-10-21
```

### 测试结果
```
✅ 功能测试：__/__ 通过
✅ 响应式测试：__/__ 通过
✅ 性能测试：__/__ 通过
✅ 兼容性测试：__/__ 通过

总通过率：___%
```

### 发现的问题
```
1. 问题描述：
   重现步骤：
   预期结果：
   实际结果：
   严重程度：高/中/低

2. ...
```

---

## 🚀 快速测试脚本

### 自动化测试（可选）
```bash
#!/bin/bash

echo "🧪 开始测试Web网站..."

# 1. 检查后端服务
echo "1. 检查后端服务..."
curl -s http://localhost:3000/health | jq

# 2. 测试分类接口
echo "2. 测试分类接口..."
curl -s https://catdog.dachaonet.com/api/v1/projects/categories | jq '.code'

# 3. 测试项目列表
echo "3. 测试项目列表..."
curl -s https://catdog.dachaonet.com/api/v1/projects/list | jq '.code'

# 4. 测试项目详情
echo "4. 测试项目详情..."
curl -s https://catdog.dachaonet.com/api/v1/projects/1 | jq '.code'

echo "✅ 测试完成！"
```

---

## 📝 测试检查清单

### 核心功能（必测）
- [ ] 首页加载
- [ ] 项目列表
- [ ] 项目详情
- [ ] 用户登录
- [ ] 我的订单
- [ ] 个人中心

### 响应式设计（必测）
- [ ] PC端（1920x1080）
- [ ] 移动端（375x667）

### 性能测试（推荐）
- [ ] 首次加载时间
- [ ] API响应时间

### 兼容性测试（可选）
- [ ] Chrome
- [ ] Safari
- [ ] Edge

---

**开始测试吧！如有问题，请查看控制台日志或联系开发者。** 🎉

