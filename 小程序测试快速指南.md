# 📱 小程序测试快速指南

**测试工具**：微信开发者工具  
**预计时间**：5分钟  
**状态**：需要重新登录

---

## 🔧 解决401认证错误

### 问题原因
```
401 - "无效的认证令牌"
原因：登录Token已过期，需要重新登录
```

### 解决步骤

#### 1. 清除缓存（必须）
```
方式一：工具栏按钮
点击工具栏上的"清除缓存"按钮（扫帚图标）

方式二：菜单操作
工具 → 清除缓存 → 清除全部缓存
```

#### 2. 重新编译
```
点击工具栏的"编译"按钮
或按快捷键：Ctrl+B (Windows) / Cmd+B (Mac)
```

#### 3. 重新登录
```
1. 点击底部TabBar的"我的"
2. 如果显示"未登录"，点击头像
3. 跳转到登录页面
4. 选择登录方式：
   - 短信验证码登录（推荐）
   - 微信一键登录（需要真机）
```

---

## 📋 小程序快速测试清单

### 1️⃣ 首页测试（1分钟）

**操作**：
- [ ] 查看首页是否正常加载
- [ ] 轮播图是否显示
- [ ] 快捷入口是否显示
- [ ] 分类网格是否显示
- [ ] 推荐项目是否显示

**测试数据加载**：
```
控制台应该看到：
✅ GET /api/v1/projects/categories - 200 OK
✅ GET /api/v1/projects/list - 200 OK
```

**常见问题**：
- 如果看到空白：检查网络请求是否成功
- 如果图片不显示：检查图片URL是否正确

---

### 2️⃣ 登录测试（2分钟）

**方式一：短信验证码登录**

**步骤**：
```
1. 点击底部TabBar"我的"
2. 点击头像区域
3. 输入手机号：18663764585
4. 点击"获取验证码"
5. 查看控制台，找到验证码：
   控制台输出：开发模式验证码: 123456
6. 输入验证码：123456
7. 点击"登录"按钮
```

**预期结果**：
- [ ] 显示"登录成功"提示
- [ ] 自动跳转回个人中心
- [ ] 显示用户昵称和头像
- [ ] Token保存到Storage

**方式二：微信一键登录**

**步骤**：
```
1. 点击"微信一键登录"按钮
2. 弹出授权确认
3. 点击"允许"
4. 自动完成登录
```

**注意**：
- 开发者工具中可能无法使用
- 需要在真机上测试

---

### 3️⃣ 项目浏览测试（1分钟）

**分类浏览**：
```
1. 点击首页的任意分类
2. 跳转到分类页面
3. 查看左侧分类菜单
4. 点击不同分类，查看右侧项目列表
```

**搜索功能**：
```
1. 点击顶部TabBar"分类"
2. 点击搜索框
3. 输入关键词（如"DNA"）
4. 查看搜索结果
5. 点击任意项目查看详情
```

**项目详情**：
```
1. 从列表点击任意项目
2. 查看项目详情页
3. 查看轮播图、价格、介绍
4. 点击"发起团购"或"立即预约"
```

**检查项**：
- [ ] 分类切换正常
- [ ] 搜索功能正常
- [ ] 项目详情显示完整
- [ ] 收藏按钮可用

---

### 4️⃣ 订单测试（1分钟）

**前提**：需要先登录

**查看订单列表**：
```
1. 点击底部TabBar"订单"
2. 查看订单列表
3. 切换不同状态Tab：
   - 全部
   - 待支付
   - 待确认
   - 实验中
   - 已完成
```

**检查项**：
- [ ] 订单列表显示正常
- [ ] 状态筛选正常
- [ ] 订单卡片信息完整
- [ ] 可以点击查看详情

**订单详情**：
```
1. 点击任意订单
2. 查看订单详情
3. 检查订单信息是否完整
4. 测试操作按钮（取消/支付）
```

---

### 5️⃣ 个人中心测试（1分钟）

**前提**：需要先登录

**查看个人信息**：
```
1. 点击底部TabBar"我的"
2. 查看用户信息区域
3. 查看账户金额（4个维度）
4. 查看订单入口（5个状态）
5. 查看功能列表（12个入口）
```

**检查项**：
- [ ] 用户信息显示正确
- [ ] 账户金额显示正常
- [ ] 各功能入口可点击
- [ ] 退出登录功能正常

**测试功能入口**：
```
点击测试以下功能：
- [ ] 我的收藏
- [ ] 我的地址
- [ ] 个人资料
- [ ] 实名认证
- [ ] 积分兑换
- [ ] 优惠券
- [ ] 团队管理
- [ ] 邀请好友
- [ ] 钱包充值
```

---

## 🧪 完整功能测试

### 1. 预约下单流程（3分钟）

**步骤**：
```
1. 从项目详情点击"立即预约"
2. 步骤1：填写样品信息
   - 样品名称
   - 样品状态
   - 样品数量
   - 备注信息
3. 步骤2：配送信息
   - 选择地址（或新增地址）
   - 选择配送日期
4. 步骤3：上传文档
   - 上传附件（可选）
   - 选择支付方式
   - 确认订单信息
5. 点击"提交订单"
```

**检查项**：
- [ ] 三步流程正常
- [ ] 表单验证正常
- [ ] 地址选择正常
- [ ] 订单创建成功

---

### 2. 地址管理（1分钟）

**步骤**：
```
1. 个人中心 → 我的地址
2. 点击"新增地址"
3. 填写地址信息：
   - 收件人姓名
   - 手机号
   - 省市区
   - 详细地址
4. 保存地址
```

**测试编辑和删除**：
```
1. 点击地址的"编辑"按钮
2. 修改信息并保存
3. 长按地址卡片
4. 选择"删除"
```

**检查项**：
- [ ] 新增地址成功
- [ ] 编辑地址成功
- [ ] 删除地址成功
- [ ] 设置默认地址成功

---

### 3. 收藏功能（30秒）

**步骤**：
```
1. 进入任意项目详情
2. 点击右上角"收藏"图标
3. 看到"收藏成功"提示
4. 图标变为红色
5. 再次点击取消收藏
```

**查看收藏列表**：
```
1. 个人中心 → 我的收藏
2. 查看收藏的项目列表
3. 点击项目进入详情
4. 长按可删除收藏
```

**检查项**：
- [ ] 收藏功能正常
- [ ] 取消收藏正常
- [ ] 收藏列表显示正常

---

### 4. 积分兑换（1分钟）

**步骤**：
```
1. 个人中心 → 积分兑换
2. 查看积分余额
3. 浏览积分商品
4. 切换分类Tab：
   - 全部
   - 优惠券
   - 京东E卡
   - 实物礼品
5. 点击"立即兑换"（如果积分足够）
```

**检查项**：
- [ ] 积分余额显示正确
- [ ] 商品列表显示正常
- [ ] 分类切换正常
- [ ] 兑换按钮状态正确

---

### 5. 优惠券（30秒）

**步骤**：
```
1. 个人中心 → 优惠券
2. 查看4个Tab：
   - 活动领券
   - 待使用
   - 已使用
   - 已过期
3. 在"活动领券"Tab点击"领取"
4. 查看"待使用"Tab的优惠券
```

**检查项**：
- [ ] 优惠券列表显示正常
- [ ] Tab切换正常
- [ ] 领取功能正常

---

### 6. 团队功能（1分钟）

**步骤**：
```
1. 个人中心 → 团队管理
2. 选择创建方式：
   - 创建团队
   - 扫码加入
   - 手机号加入
3. 点击"创建团队"
4. 填写团队信息：
   - 团队名称
   - 单位名称
   - 联系人
   - 手机号
   - 实名认证信息
5. 提交创建
```

**检查项**：
- [ ] 创建团队界面正常
- [ ] 表单验证正常
- [ ] 实名认证集成正常

---

### 7. 邀请好友（30秒）

**步骤**：
```
1. 个人中心 → 邀请好友
2. 查看邀请统计：
   - 可提现奖励
   - 邀请人数
   - 预测收益
   - 已得奖励
3. 查看邀请规则说明
4. 点击"分享给好友"（仅真机可用）
```

**检查项**：
- [ ] 统计数据显示正常
- [ ] 规则说明完整
- [ ] 分享按钮可用

---

### 8. 钱包充值（1分钟）

**步骤**：
```
1. 个人中心 → 钱包充值
2. 查看账户余额
3. 选择充值金额：
   - 100元（送5元）
   - 500元（送50元）
   - 1000元（送150元）
   - 或输入自定义金额
4. 查看赠送提示
5. 选择支付方式：微信支付
6. 点击"立即充值"
```

**检查项**：
- [ ] 余额显示正确
- [ ] 金额选择正常
- [ ] 赠送计算正确
- [ ] 充值规则显示完整

**查看充值记录**：
```
1. 点击"充值记录"
2. 查看历史充值记录
3. 查看充值状态和金额
```

---

## 🐛 常见问题解决

### 问题1：401认证错误
```
错误信息：无效的认证令牌
解决方法：
1. 清除缓存
2. 重新编译
3. 重新登录
```

### 问题2：网络请求失败
```
错误信息：request:fail
解决方法：
1. 检查网络连接
2. 检查API地址配置
3. 查看控制台详细错误
```

### 问题3：图片不显示
```
原因：图片URL错误或网络问题
解决方法：
1. 检查图片URL
2. 检查网络权限
3. 查看控制台错误
```

### 问题4：微信登录失败
```
原因：开发者工具不支持或配置错误
解决方法：
1. 使用真机测试
2. 或使用短信验证码登录
3. 检查微信登录配置
```

### 问题5：支付功能无法测试
```
原因：需要真机环境
解决方法：
1. 使用真机预览
2. 或查看支付按钮是否正常显示
3. 检查支付配置
```

---

## 📊 测试检查表

### 核心功能（必测）
- [ ] 首页加载正常
- [ ] 登录功能正常
- [ ] 项目浏览正常
- [ ] 订单列表正常
- [ ] 个人中心正常

### 重要功能（建议测试）
- [ ] 预约下单流程
- [ ] 地址管理
- [ ] 收藏功能
- [ ] 评价功能
- [ ] 搜索功能

### 扩展功能（可选测试）
- [ ] 积分兑换
- [ ] 优惠券
- [ ] 团队功能
- [ ] 邀请好友
- [ ] 钱包充值

---

## 🧪 测试数据

### 测试账号
```
手机号：18663764585
验证码：123456（开发模式固定验证码）
```

### 测试项目
```
可以浏览任意项目进行测试
项目ID范围：1-50（如果数据库有数据）
```

---

## 📱 真机测试步骤

### 1. 生成预览二维码
```
1. 点击工具栏"预览"按钮
2. 生成二维码
3. 使用微信扫码
```

### 2. 真机测试重点
```
- 微信一键登录
- 微信支付功能
- 分享功能
- 相机拍照上传
- 地理位置选择
```

---

## ✅ 测试完成标准

### 最低标准
- ✅ 首页能打开
- ✅ 能登录
- ✅ 能浏览项目
- ✅ 无严重错误

### 推荐标准
- ✅ 所有核心功能正常
- ✅ 重要功能可用
- ✅ 无明显Bug
- ✅ 用户体验流畅

---

## 🎉 开始测试

**当前状态**：
```
✅ 后端服务：运行中
✅ 小程序代码：已编译
⚠️  登录状态：需要重新登录
```

**测试步骤**：
```
1. 清除缓存
2. 重新编译
3. 重新登录
4. 按照清单测试
5. 记录问题
```

---

**祝测试顺利！** 🎉



