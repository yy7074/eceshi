# 微信小程序缓存彻底清除步骤

## 问题现象
小程序仍然尝试加载 `https://example.com/project1.jpg` 和 `https://example.com/project2.jpg`，
即使后端数据库和API返回的数据中都已经没有这些URL。

## 原因
微信开发者工具和小程序运行时有多层缓存机制，包括：
1. 网络请求缓存
2. 图片资源缓存
3. 编译产物缓存
4. 数据存储缓存

## 彻底清除缓存的步骤

### 步骤1：清除项目编译产物
```bash
cd /Users/yy/Documents/GitHub/eceshi/frontend
rm -rf unpackage/
rm -rf node_modules/.cache/
```

### 步骤2：在微信开发者工具中操作
1. **关闭开发者工具中的当前项目**
2. **点击菜单栏 "工具" -> "清除缓存"**
3. **勾选所有缓存选项**：
   - 文件缓存
   - 数据缓存
   - 网络缓存
   - 编译缓存
4. **点击 "清除"**

### 步骤3：清除模拟器缓存
1. 在开发者工具的模拟器界面
2. 点击右上角的 **"..." 菜单**
3. 选择 **"清除缓存" -> "清除数据缓存"**
4. 选择 **"清除缓存" -> "清除文件缓存"**

### 步骤4：重新编译
1. 完全关闭微信开发者工具（退出应用）
2. 重新打开微信开发者工具
3. 重新导入项目：`/Users/yy/Documents/GitHub/eceshi/frontend`
4. 等待编译完成

### 步骤5：验证
打开浏览器的开发者工具控制台，检查是否还有 `example.com` 的请求

## 如果以上步骤仍无效

### 终极方案：完全重置项目
```bash
# 1. 备份配置
cd /Users/yy/Documents/GitHub/eceshi/frontend
cp manifest.json manifest.json.bak
cp utils/request.js utils/request.js.bak

# 2. 删除所有编译产物和缓存
rm -rf unpackage/
rm -rf node_modules/.cache/
rm -rf .hbuilderx/

# 3. 重新安装依赖（如果需要）
# npm install

# 4. 重新编译
npm run dev:mp-weixin
```

然后在微信开发者工具中重新导入项目。

## 预防措施
在开发过程中，如果修改了数据源或URL配置：
1. 先在开发者工具中清除缓存
2. 然后重新编译
3. 避免使用 "热重载"，而是完全重启项目
