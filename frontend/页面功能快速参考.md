# 页面功能快速参考

## 📱 主包页面（TabBar）

| 页面 | 路径 | 功能 | 状态 |
|------|------|------|------|
| 首页 | `/pages/index/index` | 项目浏览、快捷入口 | ✅ 完成 |
| 分类 | `/pages/category/category` | 分类浏览项目 | ✅ 完成 |
| 订单 | `/pages/order/order` | 订单列表管理 | ✅ 完成 |
| 个人中心 | `/pages/user/user` | 用户信息、功能入口 | ✅ 完成 |

## 📄 其他主包页面

| 页面 | 路径 | 功能 | 状态 |
|------|------|------|------|
| 登录 | `/pages/login/login` | 短信/微信登录 | ✅ 完成 |
| 项目详情 | `/pages/project/detail` | 项目详细信息 | ✅ 完成 |

## 📦 分包页面（pagesA）

| 页面 | 路径 | 功能 | 状态 |
|------|------|------|------|
| 预约下单 | `/pagesA/booking/booking` | 3步预约流程 | ✅ 完成 |
| 订单详情 | `/pagesA/order-detail/order-detail` | 订单完整信息 | ✅ 完成 |
| 地址管理 | `/pagesA/address/address` | 地址增删改查 | ✅ 完成 |
| 个人资料 | `/pagesA/profile/profile` | 编辑用户信息 | ✅ 完成 |
| 实名认证 | `/pagesA/certification/certification` | 身份证认证 | ✅ 完成 |
| 优惠券 | `/pagesA/coupon/coupon` | 优惠券列表 | 🚧 占位 |
| 团体 | `/pagesA/group/group` | 团体管理 | 🚧 占位 |
| 积分 | `/pagesA/points/points` | 积分明细 | ✅ 基础 |

## 🔄 跳转方式速查

### 使用 uni.navigateTo（非TabBar页面）
```javascript
// 项目详情
uni.navigateTo({
  url: `/pages/project/detail?id=${projectId}`
})

// 预约页面
uni.navigateTo({
  url: `/pagesA/booking/booking?projectId=${id}&projectName=${name}`
})

// 订单详情
uni.navigateTo({
  url: `/pagesA/order-detail/order-detail?id=${orderId}`
})
```

### 使用 uni.switchTab（TabBar页面）
```javascript
// 跳转到首页
uni.switchTab({
  url: '/pages/index/index'
})

// 跳转到分类
uni.switchTab({
  url: '/pages/category/category'
})

// 跳转到订单（带状态筛选）
uni.setStorageSync('order_status_filter', 'unpaid')
uni.switchTab({
  url: '/pages/order/order'
})
```

## 🎯 功能状态说明

### ✅ 完全实现
- 用户登录（短信/微信）
- 首页浏览
- 分类浏览
- 项目详情
- 完整预约流程
- 订单管理
- 地址管理
- 个人资料编辑
- 实名认证

### ✅ 基础实现
- 积分页面（显示积分，记录为空）

### 🚧 占位页面
- 优惠券（空状态+返回按钮）
- 团体（空状态+创建按钮）

### 🔜 待开发
- 支付页面
- 钱包页面
- 发票管理
- 预付记录
- 中奖记录
- 下单抽奖
- 建议/投诉
- 设置页面

## 🔐 需要登录的功能

| 功能 | 未登录行为 |
|------|-----------|
| 预约下单 | 弹窗提示登录 |
| 查看订单 | 弹窗提示登录 |
| 优惠券 | 弹窗提示登录 |
| 团体 | 弹窗提示登录 |
| 积分 | 弹窗提示登录 |
| 个人资料 | 弹窗提示登录 |
| 实名认证 | 弹窗提示登录 |

## 📊 数据来源

| 数据类型 | API端点 | 说明 |
|---------|---------|------|
| 项目分类 | `GET /api/v1/projects/categories` | 首页8宫格 |
| 项目列表 | `GET /api/v1/projects/list` | 首页、分类页 |
| 项目详情 | `GET /api/v1/projects/{id}` | 详情页 |
| 用户信息 | `GET /api/v1/users/me` | 个人中心 |
| 账户余额 | `GET /api/v1/users/balance` | 个人中心 |
| 订单列表 | `GET /api/v1/orders/list` | 订单页 |
| 订单详情 | `GET /api/v1/orders/{id}` | 订单详情 |
| 地址列表 | `GET /api/v1/addresses/list` | 地址管理 |

## 🛠️ 开发命令

```bash
# 进入前端目录
cd /Users/yy/Documents/GitHub/eceshi/frontend

# 编译小程序（如需要）
npm run dev:mp-weixin

# 在微信开发者工具中
# 1. 打开项目
# 2. 点击【编译】按钮
# 3. 在模拟器中测试
```

## 📝 快速调试

### 清除缓存
1. 工具 → 清除缓存 → 勾选所有 → 清除
2. 模拟器 → ... → 清除数据缓存
3. 重新编译

### 查看网络请求
1. 调试器 → Network
2. 查看API请求和响应

### 查看本地存储
1. 调试器 → Storage
2. 查看 token、userInfo 等

### 查看日志
1. 调试器 → Console
2. 查看 console.log 和错误信息

---

**提示**: 所有页面路径都已在 `pages.json` 中注册
